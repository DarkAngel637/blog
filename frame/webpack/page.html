<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>webpack.connfig 配置 | 前端笔记</title>
    <meta name="description" content="神威难藏泪,满眼皆是琳 --- 致敬土哥">
    <link rel="preload stylesheet" href="/blog/assets/style.8d199aac.css" as="style">
    
    <script type="module" src="/blog/assets/app.cbd8f6a8.js"></script>
    <link rel="preload" href="/blog/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/blog/assets/chunks/framework.7204edfa.js">
    <link rel="modulepreload" href="/blog/assets/chunks/theme.73217bc7.js">
    <link rel="modulepreload" href="/blog/assets/frame_webpack_page.md.64135610.lean.js">
    <link rel="icon" href="/blog/1000.webp">
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-1919c326><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-1919c326 data-v-7e5bc4a5><div class="VPNavBar has-sidebar" data-v-7e5bc4a5 data-v-a0fd61f4><div class="container" data-v-a0fd61f4><div class="title" data-v-a0fd61f4><div class="VPNavBarTitle has-sidebar" data-v-a0fd61f4 data-v-86d1bed8><a class="title" href="/blog/" data-v-86d1bed8><!--[--><!--]--><!--[--><img class="VPImage logo" src="/blog/fav.jpg" alt data-v-8426fc1a><!--]--><!--[-->前端笔记<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-a0fd61f4><div class="curtain" data-v-a0fd61f4></div><div class="content-body" data-v-a0fd61f4><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-a0fd61f4><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-a0fd61f4 data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-9c007e85><span class="text" data-v-9c007e85><!----><span data-v-9c007e85>性能优化</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-9c007e85><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/blog/performace/page.html" data-v-43f1e123><!--[-->雅虎 35条<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/blog/performace/performace.html" data-v-43f1e123><!--[-->性能优化<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-a0fd61f4 data-v-f6a63727><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-f6a63727 data-v-ce54a7d1 data-v-b1685198><span class="check" data-v-b1685198><span class="icon" data-v-b1685198><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ce54a7d1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ce54a7d1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-a0fd61f4 data-v-40855f84 data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-9c007e85><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-9c007e85><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-40855f84><div class="item appearance" data-v-40855f84><p class="label" data-v-40855f84>Appearance</p><div class="appearance-action" data-v-40855f84><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-40855f84 data-v-ce54a7d1 data-v-b1685198><span class="check" data-v-b1685198><span class="icon" data-v-b1685198><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ce54a7d1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ce54a7d1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-a0fd61f4 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-1919c326 data-v-79c8c1df><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-79c8c1df><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-79c8c1df><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-79c8c1df>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-79c8c1df data-v-1c15a60a><button data-v-1c15a60a>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-1919c326 data-v-b00e2fdd><div class="curtain" data-v-b00e2fdd></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-b00e2fdd><span class="visually-hidden" id="sidebar-aria-label" data-v-b00e2fdd> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>html</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/html/page.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>html</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/html/h5.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>h5</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>css</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/css/page.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>css</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>javascript</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/javascript/page.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>javascript</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/javascript/es6.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>es6 语法</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible has-active" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>前端框架</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/frame/vue/page.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>vue</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/frame/react/page.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>react</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/frame/webpack/page.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>webpack</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>typescript</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/typescript/page.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>typescript</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>http</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/abouthttp/page.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>http</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>git</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/git/page.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>git 命令(不全)</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>nodejs</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/node/base.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>nodejs 基础</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/node/npm.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>npm</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/node/koa.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>koa</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/node/egg.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>egg 基础</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-1919c326 data-v-669faec9><div class="VPDoc has-sidebar has-aside" data-v-669faec9 data-v-6b87e69f><!--[--><!--]--><div class="container" data-v-6b87e69f><div class="aside" data-v-6b87e69f><div class="aside-curtain" data-v-6b87e69f></div><div class="aside-container" data-v-6b87e69f><div class="aside-content" data-v-6b87e69f><div class="VPDocAside" data-v-6b87e69f data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-3f215769 data-v-6ae8e080><div class="content" data-v-6ae8e080><div class="outline-marker" data-v-6ae8e080></div><div class="outline-title" role="heading" data-v-6ae8e080>大纲</div><nav aria-labelledby="doc-outline-aria-label" data-v-6ae8e080><span class="visually-hidden" id="doc-outline-aria-label" data-v-6ae8e080> Table of Contents for current page </span><ul class="root" data-v-6ae8e080 data-v-d0ee3533><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-6b87e69f><div class="content-container" data-v-6b87e69f><!--[--><!--]--><!----><main class="main" data-v-6b87e69f><div style="position:relative;" class="vp-doc _blog_frame_webpack_page" data-v-6b87e69f><div><h1 id="webpack-connfig-配置" tabindex="-1">webpack.connfig 配置 <a class="header-anchor" href="#webpack-connfig-配置" aria-label="Permalink to &quot;webpack.connfig 配置&quot;">​</a></h1><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">path</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;path&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">TerserPlugin</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;terser-webpack-plugin&quot;</span><span style="color:#E1E4E8;">);</span><span style="color:#6A737D;">// 压缩 js 的插件</span></span>
<span class="line"><span style="color:#6A737D;">// nodejs核心模块，直接使用</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">os</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;os&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#6A737D;">// cpu核数</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">threads</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> os.</span><span style="color:#B392F0;">cpus</span><span style="color:#E1E4E8;">().</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#79B8FF;">module</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">exports</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// entry 表示 入口，Webpack 执行构建的第一步将从 Entry 开始，可抽象成输入。</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 类型可以是 string | object | array   </span></span>
<span class="line"><span style="color:#E1E4E8;">  entry: </span><span style="color:#9ECBFF;">&#39;./app/entry&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 只有1个入口，入口只有1个文件</span></span>
<span class="line"><span style="color:#E1E4E8;">  entry: [</span><span style="color:#9ECBFF;">&#39;./app/entry1&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;./app/entry2&#39;</span><span style="color:#E1E4E8;">], </span><span style="color:#6A737D;">// 只有1个入口，入口有2个文件</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//  entry: [&quot;@babel/polyfill&quot;, &quot;./app/js&quot;], // @babel/polyfill 是将es6+ 转成es5</span></span>
<span class="line"><span style="color:#E1E4E8;">  entry: { </span><span style="color:#6A737D;">// 有2个入口</span></span>
<span class="line"><span style="color:#E1E4E8;">    a: </span><span style="color:#9ECBFF;">&#39;./app/entry-a&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    b: [</span><span style="color:#9ECBFF;">&#39;./app/entry-b1&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;./app/entry-b2&#39;</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">mode: </span><span style="color:#9ECBFF;">&#39;none&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;development&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;production&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// webpack --mode development   production 默认开启 tree shaking</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 如何输出结果：在 Webpack 经过一系列处理后，如何输出最终想要的代码。</span></span>
<span class="line"><span style="color:#E1E4E8;">  output: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 输出文件存放的目录，必须是 string 类型的绝对路径。</span></span>
<span class="line"><span style="color:#E1E4E8;">    path: path.</span><span style="color:#B392F0;">resolve</span><span style="color:#E1E4E8;">(__dirname, </span><span style="color:#9ECBFF;">&#39;dist&#39;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 输出文件的名称</span></span>
<span class="line"><span style="color:#E1E4E8;">    filename: </span><span style="color:#9ECBFF;">&#39;bundle.js&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 完整的名称</span></span>
<span class="line"><span style="color:#E1E4E8;">    filename: </span><span style="color:#9ECBFF;">&#39;[name].js&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 当配置了多个 entry 时，通过名称模版为不同的 entry 生成不同的文件名称</span></span>
<span class="line"><span style="color:#E1E4E8;">    filename: </span><span style="color:#9ECBFF;">&#39;[chunkhash].js&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 根据文件内容 hash 值生成文件名称，用于浏览器长时间缓存文件</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 发布到线上的所有资源的 URL 前缀，string 类型</span></span>
<span class="line"><span style="color:#E1E4E8;">    publicPath: </span><span style="color:#9ECBFF;">&#39;/assets/&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 放到指定目录下</span></span>
<span class="line"><span style="color:#E1E4E8;">    publicPath: </span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 放到根目录下</span></span>
<span class="line"><span style="color:#E1E4E8;">    publicPath: </span><span style="color:#9ECBFF;">&#39;https://cdn.example.com/&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 放到 CDN 上去</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 导出库的名称，string 类型</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 不填它时，默认输出格式是匿名的立即执行函数</span></span>
<span class="line"><span style="color:#E1E4E8;">    library: </span><span style="color:#9ECBFF;">&#39;MyLibrary&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 导出库的类型，枚举类型，默认是 var</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 可以是 umd | umd2 | commonjs2 | commonjs | amd | this | var | assign | window | global | jsonp ，</span></span>
<span class="line"><span style="color:#E1E4E8;">    libraryTarget: </span><span style="color:#9ECBFF;">&#39;umd&#39;</span><span style="color:#E1E4E8;">, </span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 是否包含有用的文件路径信息到生成的代码里去，boolean 类型</span></span>
<span class="line"><span style="color:#E1E4E8;">    pathinfo: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 附加 Chunk 的文件名称</span></span>
<span class="line"><span style="color:#E1E4E8;">    chunkFilename: </span><span style="color:#9ECBFF;">&#39;[id].js&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// ------------------------------</span></span>
<span class="line"><span style="color:#E1E4E8;">    chunkFilename: </span><span style="color:#9ECBFF;">&quot;static/js/[name].[contenthash:8].chunk.js&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 动态导入输出资源命名方式</span></span>
<span class="line"><span style="color:#E1E4E8;">    assetModuleFilename: </span><span style="color:#9ECBFF;">&quot;static/media/[name].[hash][ext]&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 图片、字体等资源命名方式（注意用hash）</span></span>
<span class="line"><span style="color:#E1E4E8;">    clean: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    runtimeChunk: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">name</span><span style="color:#E1E4E8;">: (</span><span style="color:#FFAB70;">entrypoint</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`runtime~${</span><span style="color:#E1E4E8;">entrypoint</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">name</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// runtime文件命名规则</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// ------------------------------</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// JSONP 异步加载资源时的回调函数名称，需要和服务端搭配使用</span></span>
<span class="line"><span style="color:#E1E4E8;">    jsonpFunction: </span><span style="color:#9ECBFF;">&#39;myWebpackJsonp&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 生成的 Source Map 文件名称</span></span>
<span class="line"><span style="color:#E1E4E8;">    sourceMapFilename: </span><span style="color:#9ECBFF;">&#39;[file].map&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 浏览器开发者工具里显示的源码模块名称</span></span>
<span class="line"><span style="color:#E1E4E8;">    devtoolModuleFilenameTemplate: </span><span style="color:#9ECBFF;">&#39;webpack:///[resource-path]&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 异步加载跨域的资源时使用的方式</span></span>
<span class="line"><span style="color:#E1E4E8;">    crossOriginLoading: </span><span style="color:#9ECBFF;">&#39;use-credentials&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    crossOriginLoading: </span><span style="color:#9ECBFF;">&#39;anonymous&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    crossOriginLoading: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 配置模块相关</span></span>
<span class="line"><span style="color:#E1E4E8;">  module: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    rules: [ </span><span style="color:#6A737D;">// 配置 Loader</span></span>
<span class="line"><span style="color:#E1E4E8;">      {  </span></span>
<span class="line"><span style="color:#E1E4E8;">        test:</span><span style="color:#DBEDFF;"> </span><span style="color:#9ECBFF;">/</span><span style="color:#85E89D;font-weight:bold;">\.</span><span style="color:#DBEDFF;">jsx</span><span style="color:#F97583;">?$</span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 正则匹配命中要使用 Loader 的文件</span></span>
<span class="line"><span style="color:#E1E4E8;">        include: [ </span><span style="color:#6A737D;">// 只会命中这里面的文件</span></span>
<span class="line"><span style="color:#E1E4E8;">          path.</span><span style="color:#B392F0;">resolve</span><span style="color:#E1E4E8;">(__dirname, </span><span style="color:#9ECBFF;">&#39;app&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">        ],</span></span>
<span class="line"><span style="color:#E1E4E8;">        exclude: [ </span><span style="color:#6A737D;">// 忽略这里面的文件</span></span>
<span class="line"><span style="color:#E1E4E8;">          path.</span><span style="color:#B392F0;">resolve</span><span style="color:#E1E4E8;">(__dirname, </span><span style="color:#9ECBFF;">&#39;app/demo-files&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">        ],</span></span>
<span class="line"><span style="color:#E1E4E8;">        use: [ </span><span style="color:#6A737D;">// 使用那些 Loader，有先后次序，从后往前执行</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&#39;style-loader&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 直接使用 Loader 的名称    style-loader 将 </span></span>
<span class="line"><span style="color:#E1E4E8;">          {</span></span>
<span class="line"><span style="color:#E1E4E8;">            loader: </span><span style="color:#9ECBFF;">&#39;css-loader&#39;</span><span style="color:#E1E4E8;">,      </span></span>
<span class="line"><span style="color:#E1E4E8;">            options: { </span><span style="color:#6A737D;">// 给 html-loader 传一些参数</span></span>
<span class="line"><span style="color:#E1E4E8;">            }</span></span>
<span class="line"><span style="color:#E1E4E8;">          }</span></span>
<span class="line"><span style="color:#E1E4E8;">        ]</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// 处理js  npm i babel-loader @babel/preset-env @babel/core # babel-loader 处理 js 文件; @babel/preset-env 语法转换 ;@babel/polyfill es6+ 转成es5 (entry) @babel/plugin-transform-runtime ()</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        test:</span><span style="color:#DBEDFF;"> </span><span style="color:#9ECBFF;">/</span><span style="color:#85E89D;font-weight:bold;">\.</span><span style="color:#DBEDFF;">js</span><span style="color:#F97583;">$</span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        use: [{</span></span>
<span class="line"><span style="color:#E1E4E8;">          loader: </span><span style="color:#9ECBFF;">&#39;babel-loader&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#6A737D;">// options配置你也可以在.babelrc或babel.config.js中单独配置</span></span>
<span class="line"><span style="color:#E1E4E8;">          options: {</span></span>
<span class="line"><span style="color:#E1E4E8;">            presets: [</span><span style="color:#9ECBFF;">&#39;@babel/preset-env&#39;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">            cacheDirectory: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 开启babel编译缓存</span></span>
<span class="line"><span style="color:#E1E4E8;">            cacheCompression: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 缓存文件不要压缩</span></span>
<span class="line"><span style="color:#E1E4E8;">            plugins: [</span><span style="color:#9ECBFF;">&quot;@babel/plugin-transform-runtime&quot;</span><span style="color:#E1E4E8;">], </span><span style="color:#6A737D;">// 减少代码体积</span></span>
<span class="line"><span style="color:#E1E4E8;">          }</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">         {</span></span>
<span class="line"><span style="color:#E1E4E8;">                loader: </span><span style="color:#9ECBFF;">&quot;thread-loader&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 开启多进程</span></span>
<span class="line"><span style="color:#E1E4E8;">                options: {</span></span>
<span class="line"><span style="color:#E1E4E8;">                  workers: threads, </span><span style="color:#6A737D;">// 数量</span></span>
<span class="line"><span style="color:#E1E4E8;">                },</span></span>
<span class="line"><span style="color:#E1E4E8;">              },</span></span>
<span class="line"><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">        exclude:</span><span style="color:#DBEDFF;"> </span><span style="color:#9ECBFF;">/</span><span style="color:#DBEDFF;">node_modules</span><span style="color:#9ECBFF;">/</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#6A737D;">//  处理图片 file-loader 和 url-loader; 小于 limit 参数即 1024B 的图片会被转译为 Base64 编码，对于超过 limit 值的图片则直接调用 file-loader 完成加载</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">      test:</span><span style="color:#DBEDFF;"> </span><span style="color:#9ECBFF;">/</span><span style="color:#85E89D;font-weight:bold;">\.</span><span style="color:#DBEDFF;">(png</span><span style="color:#F97583;">|</span><span style="color:#DBEDFF;">jpg</span><span style="color:#F97583;">|</span><span style="color:#DBEDFF;">gif</span><span style="color:#F97583;">|</span><span style="color:#DBEDFF;">jpeg)</span><span style="color:#F97583;">$</span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      use: [</span><span style="color:#9ECBFF;">&#39;file-loader&#39;</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        loader: </span><span style="color:#9ECBFF;">&#39;url-loader&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        options: {</span></span>
<span class="line"><span style="color:#E1E4E8;">          limit: </span><span style="color:#79B8FF;">1024</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">//  webpack 5 的话直接指定类型就行</span></span>
<span class="line"><span style="color:#E1E4E8;">      {</span></span>
<span class="line"><span style="color:#E1E4E8;">      test:</span><span style="color:#DBEDFF;"> </span><span style="color:#9ECBFF;">/</span><span style="color:#85E89D;font-weight:bold;">\.</span><span style="color:#DBEDFF;">(png</span><span style="color:#F97583;">|</span><span style="color:#DBEDFF;">jpg</span><span style="color:#F97583;">|</span><span style="color:#DBEDFF;">gif</span><span style="color:#F97583;">|</span><span style="color:#DBEDFF;">jpeg)</span><span style="color:#F97583;">$</span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      type: </span><span style="color:#9ECBFF;">&#39;asset/resource&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    ],</span></span>
<span class="line"><span style="color:#E1E4E8;">    noParse: [ </span><span style="color:#6A737D;">// 不用解析和处理的模块</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">/</span><span style="color:#DBEDFF;">special-library</span><span style="color:#85E89D;font-weight:bold;">\.</span><span style="color:#DBEDFF;">js</span><span style="color:#F97583;">$</span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 用正则匹配</span></span>
<span class="line"><span style="color:#E1E4E8;">    ],</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 配置插件</span></span>
<span class="line"><span style="color:#E1E4E8;">  plugins: [</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">PreloadWebpackPlugin</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">      rel: </span><span style="color:#9ECBFF;">&quot;preload&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// preload兼容性更好</span></span>
<span class="line"><span style="color:#E1E4E8;">      as: </span><span style="color:#9ECBFF;">&quot;script&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// rel: &#39;prefetch&#39; // prefetch兼容性更差</span></span>
<span class="line"><span style="color:#E1E4E8;">    }),</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> WorkboxPlugin.</span><span style="color:#B392F0;">GenerateSW</span><span style="color:#E1E4E8;">({</span><span style="color:#6A737D;">// 配合 npm i serve -g &amp;&amp; serve dist</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// 这些选项帮助快速启用 ServiceWorkers</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// 不允许遗留任何“旧的” ServiceWorkers</span></span>
<span class="line"><span style="color:#E1E4E8;">      clientsClaim: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      skipWaiting: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    }),</span></span>
<span class="line"><span style="color:#E1E4E8;">  ],</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// optimization 用来做优化的(控制产物包体积)</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//  code spliting 可以让模块用到的时候再加载</span></span>
<span class="line"><span style="color:#E1E4E8;">optimization:{</span></span>
<span class="line"><span style="color:#E1E4E8;">splitChunks:{</span><span style="color:#6A737D;">// 开启分包加载 https://www.webpackjs.com/plugins/split-chunks-plugin/</span></span>
<span class="line"><span style="color:#E1E4E8;"> chunks: </span><span style="color:#9ECBFF;">&#39;async&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#6A737D;">// 配置成 all 即对所有文件分包按需加载</span></span>
<span class="line"><span style="color:#E1E4E8;">      minSize: </span><span style="color:#79B8FF;">20000</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      minRemainingSize: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      minChunks: </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      maxAsyncRequests: </span><span style="color:#79B8FF;">30</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      maxInitialRequests: </span><span style="color:#79B8FF;">30</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      enforceSizeThreshold: </span><span style="color:#79B8FF;">50000</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      cacheGroups: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// 指定符合什么规则的模块拆到什么 chunk 里</span></span>
<span class="line"><span style="color:#E1E4E8;">        defaultVendors: {</span></span>
<span class="line"><span style="color:#E1E4E8;">          test:</span><span style="color:#DBEDFF;"> </span><span style="color:#9ECBFF;">/</span><span style="color:#79B8FF;">[</span><span style="color:#85E89D;font-weight:bold;">\\</span><span style="color:#79B8FF;">/]</span><span style="color:#DBEDFF;">node_modules</span><span style="color:#79B8FF;">[</span><span style="color:#85E89D;font-weight:bold;">\\</span><span style="color:#79B8FF;">/]</span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          priority: </span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          reuseExistingChunk: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// 定义每个 chunk 要有多大，初始加载最多能加载个文件等维度</span></span>
<span class="line"><span style="color:#E1E4E8;">        default: {</span></span>
<span class="line"><span style="color:#E1E4E8;">          minChunks: </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          priority: </span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">20</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          reuseExistingChunk: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">},</span></span>
<span class="line"><span style="color:#E1E4E8;">  minimize: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 在Webpack4中 默认使用 uglifyjs-webpack-plugin压缩代码，也可以通过 minimizer 数组替换为 Terser 插件</span></span>
<span class="line"><span style="color:#E1E4E8;">  minimizer: [</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">TerserPlugin</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">        parallel: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        terserOptions: {</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#6A737D;">// https://github.com/webpack-contrib/terser-webpack-plugin#terseroptions</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">      })</span></span>
<span class="line"><span style="color:#E1E4E8;">    ]</span></span>
<span class="line"><span style="color:#E1E4E8;">},</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 配置寻找模块的规则</span></span>
<span class="line"><span style="color:#E1E4E8;">  resolve: { </span></span>
<span class="line"><span style="color:#E1E4E8;">    modules: [ </span><span style="color:#6A737D;">// 寻找模块的根目录，array 类型，默认以 node_modules 为根目录</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&#39;node_modules&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      path.</span><span style="color:#B392F0;">resolve</span><span style="color:#E1E4E8;">(__dirname, </span><span style="color:#9ECBFF;">&#39;app&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    ],</span></span>
<span class="line"><span style="color:#E1E4E8;">    extensions: [</span><span style="color:#9ECBFF;">&#39;.js&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;.json&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;.jsx&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;.css&#39;</span><span style="color:#E1E4E8;">], </span><span style="color:#6A737D;">// 模块的后缀名</span></span>
<span class="line"><span style="color:#E1E4E8;">    alias: { </span><span style="color:#6A737D;">// 模块别名配置，用于映射模块</span></span>
<span class="line"><span style="color:#E1E4E8;">       </span><span style="color:#6A737D;">// 把 &#39;module&#39; 映射 &#39;new-module&#39;，同样的 &#39;module/path/file&#39; 也会被映射成 &#39;new-module/path/file&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&#39;module&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;new-module&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// 使用结尾符号 $ 后，把 &#39;only-module&#39; 映射成 &#39;new-module&#39;，</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// 但是不像上面的，&#39;module/path/file&#39; 不会被映射成 &#39;new-module/path/file&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&#39;only-module$&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;new-module&#39;</span><span style="color:#E1E4E8;">, </span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    alias: [ </span><span style="color:#6A737D;">// alias 还支持使用数组来更详细的配置</span></span>
<span class="line"><span style="color:#E1E4E8;">      {</span></span>
<span class="line"><span style="color:#E1E4E8;">        name: </span><span style="color:#9ECBFF;">&#39;module&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 老的模块</span></span>
<span class="line"><span style="color:#E1E4E8;">        alias: </span><span style="color:#9ECBFF;">&#39;new-module&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 新的模块</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// 是否是只映射模块，如果是 true 只有 &#39;module&#39; 会被映射，如果是 false &#39;module/inner/path&#39; 也会被映射</span></span>
<span class="line"><span style="color:#E1E4E8;">        onlyModule: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    ],</span></span>
<span class="line"><span style="color:#E1E4E8;">    symlinks: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 是否跟随文件软链接去搜寻模块的路径</span></span>
<span class="line"><span style="color:#E1E4E8;">    descriptionFiles: [</span><span style="color:#9ECBFF;">&#39;package.json&#39;</span><span style="color:#E1E4E8;">], </span><span style="color:#6A737D;">// 模块的描述文件</span></span>
<span class="line"><span style="color:#E1E4E8;">    mainFields: [</span><span style="color:#9ECBFF;">&#39;main&#39;</span><span style="color:#E1E4E8;">], </span><span style="color:#6A737D;">// 模块的描述文件里的描述入口的文件的字段名称</span></span>
<span class="line"><span style="color:#E1E4E8;">    enforceExtension: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 是否强制导入语句必须要写明文件后缀</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 输出文件性能检查配置</span></span>
<span class="line"><span style="color:#E1E4E8;">  performance: { </span></span>
<span class="line"><span style="color:#E1E4E8;">    hints: </span><span style="color:#9ECBFF;">&#39;warning&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 有性能问题时输出警告</span></span>
<span class="line"><span style="color:#E1E4E8;">    hints: </span><span style="color:#9ECBFF;">&#39;error&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 有性能问题时输出错误</span></span>
<span class="line"><span style="color:#E1E4E8;">    hints: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 关闭性能检查</span></span>
<span class="line"><span style="color:#E1E4E8;">    maxAssetSize: </span><span style="color:#79B8FF;">200000</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 最大文件大小 (单位 bytes)</span></span>
<span class="line"><span style="color:#E1E4E8;">    maxEntrypointSize: </span><span style="color:#79B8FF;">400000</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 最大入口文件大小 (单位 bytes)</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">assetFilter</span><span style="color:#E1E4E8;">: </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">assetFilename</span><span style="color:#E1E4E8;">) { </span><span style="color:#6A737D;">// 过滤要检查的文件</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> assetFilename.</span><span style="color:#B392F0;">endsWith</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;.css&#39;</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">||</span><span style="color:#E1E4E8;"> assetFilename.</span><span style="color:#B392F0;">endsWith</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;.js&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * 对于开发环境，适合使用：</span></span>
<span class="line"><span style="color:#6A737D;"> *  - eval：速度极快，但只能看到原始文件结构，看不到打包前的代码内容；</span></span>
<span class="line"><span style="color:#6A737D;"> *  - cheap-eval-source-map：速度比较快，可以看到打包前的代码内容，但看不到 loader 处理之前的源码；</span></span>
<span class="line"><span style="color:#6A737D;"> *  - cheap-module-eval-source-map：速度比较快，可以看到 loader 处理之前的源码，不过定位不到列级别；</span></span>
<span class="line"><span style="color:#6A737D;"> *  - eval-source-map：初次编译较慢，但定位精度最高；</span></span>
<span class="line"><span style="color:#6A737D;"> * 对于生产环境，则适合使用：</span></span>
<span class="line"><span style="color:#6A737D;"> *  - source-map：信息最完整，但安全性最低，外部用户可轻易获取到压缩、混淆之前的源码，慎重使用；</span></span>
<span class="line"><span style="color:#6A737D;"> *  - hidden-source-map：信息较完整，安全性较低，外部用户获取到 .map 文件地址时依然可以拿到源码，慎重使用；</span></span>
<span class="line"><span style="color:#6A737D;"> *  - nosources-source-map：源码信息缺失，但安全性较高，需要配合 Sentry 等工具实现完整的 Sourcemap 映射。</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#E1E4E8;">  devtool: </span><span style="color:#9ECBFF;">&#39;source-map&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 配置 source-map 类型</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  context: __dirname, </span><span style="color:#6A737D;">// Webpack 使用的根目录，string 类型必须是绝对路径</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 配置输出代码的运行环境</span></span>
<span class="line"><span style="color:#E1E4E8;">  target: </span><span style="color:#9ECBFF;">&#39;web&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 浏览器，默认</span></span>
<span class="line"><span style="color:#E1E4E8;">  target: </span><span style="color:#9ECBFF;">&#39;webworker&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// WebWorker</span></span>
<span class="line"><span style="color:#E1E4E8;">  target: </span><span style="color:#9ECBFF;">&#39;node&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// Node.js，使用 `require` 语句加载 Chunk 代码</span></span>
<span class="line"><span style="color:#E1E4E8;">  target: </span><span style="color:#9ECBFF;">&#39;async-node&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// Node.js，异步加载 Chunk 代码</span></span>
<span class="line"><span style="color:#E1E4E8;">  target: </span><span style="color:#9ECBFF;">&#39;node-webkit&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// nw.js</span></span>
<span class="line"><span style="color:#E1E4E8;">  target: </span><span style="color:#9ECBFF;">&#39;electron-main&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// electron, 主线程</span></span>
<span class="line"><span style="color:#E1E4E8;">  target: </span><span style="color:#9ECBFF;">&#39;electron-renderer&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// electron, 渲染线程</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  externals: { </span><span style="color:#6A737D;">// 使用来自 JavaScript 运行环境提供的全局变量</span></span>
<span class="line"><span style="color:#E1E4E8;">    vue: </span><span style="color:#9ECBFF;">&#39;vue&#39;</span></span>
<span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * 同时 index.html 模板上引入 cdn 链接</span></span>
<span class="line"><span style="color:#6A737D;"> *  &lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/vue/2.6.3/vue.min.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  stats: { </span><span style="color:#6A737D;">// 控制台输出日志控制</span></span>
<span class="line"><span style="color:#E1E4E8;">    assets: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    colors: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    errors: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    errorDetails: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    hash: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  devServer: { </span><span style="color:#6A737D;">// DevServer 相关的配置</span></span>
<span class="line"><span style="color:#E1E4E8;">    proxy: { </span><span style="color:#6A737D;">// 代理到后端服务接口</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&#39;/api&#39;</span><span style="color:#E1E4E8;">:{</span></span>
<span class="line"><span style="color:#E1E4E8;">        target:</span><span style="color:#9ECBFF;">&#39;http://localhost:8888/&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#6A737D;">//代理目标的基础路径，服务端的端口号</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//关闭语法检查</span></span>
<span class="line"><span style="color:#E1E4E8;">        lintOnSave:</span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        changeOrigin:</span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span><span style="color:#6A737D;">//允许跨域 可以代理反向的地址</span></span>
<span class="line"><span style="color:#E1E4E8;">        pathRewrite:{</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&#39;^/api&#39;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">//重写路径，将api开头的路径改为&#39;&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    contentBase: path.</span><span style="color:#B392F0;">join</span><span style="color:#E1E4E8;">(__dirname, </span><span style="color:#9ECBFF;">&#39;public&#39;</span><span style="color:#E1E4E8;">), </span><span style="color:#6A737D;">// 配置 DevServer HTTP 服务器的文件根目录</span></span>
<span class="line"><span style="color:#E1E4E8;">    compress: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 是否开启 gzip 压缩</span></span>
<span class="line"><span style="color:#E1E4E8;">    historyApiFallback: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 是否开发 HTML5 History API 网页</span></span>
<span class="line"><span style="color:#E1E4E8;">    historyApiFallback: {</span><span style="color:#6A737D;">// 详细配置</span></span>
<span class="line"><span style="color:#E1E4E8;">      rewrites: [</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#6A737D;">// /user 开头的都返回 user.html</span></span>
<span class="line"><span style="color:#E1E4E8;">    { from:</span><span style="color:#DBEDFF;"> </span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">^</span><span style="color:#85E89D;font-weight:bold;">\/</span><span style="color:#DBEDFF;">user</span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;">, to: </span><span style="color:#9ECBFF;">&#39;/user.html&#39;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">    { from:</span><span style="color:#DBEDFF;"> </span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">^</span><span style="color:#85E89D;font-weight:bold;">\/</span><span style="color:#DBEDFF;">game</span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;">, to: </span><span style="color:#9ECBFF;">&#39;/game.html&#39;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 其它的都返回 index.html</span></span>
<span class="line"><span style="color:#E1E4E8;">        { from:</span><span style="color:#DBEDFF;"> </span><span style="color:#9ECBFF;">/</span><span style="color:#79B8FF;">.</span><span style="color:#F97583;">*</span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;">, to: path.posix.</span><span style="color:#B392F0;">join</span><span style="color:#E1E4E8;">(config.dev.assetsPublicPath, </span><span style="color:#9ECBFF;">&#39;index.html&#39;</span><span style="color:#E1E4E8;">) },</span></span>
<span class="line"><span style="color:#E1E4E8;">      ],</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    hot: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 是否开启模块热替换功能</span></span>
<span class="line"><span style="color:#E1E4E8;">    https: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 是否开启 HTTPS 模式</span></span>
<span class="line"><span style="color:#E1E4E8;">    static: {</span><span style="color:#6A737D;">// 静态资源文件路径?</span></span>
<span class="line"><span style="color:#E1E4E8;">      directory: path.</span><span style="color:#B392F0;">join</span><span style="color:#E1E4E8;">(__dirname, </span><span style="color:#9ECBFF;">&#39;public&#39;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    profile: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 是否捕捉 Webpack 构建的性能信息，用于分析什么原因导致构建性能不佳</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    cache: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 是否启用缓存提升构建速度</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    watch: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 是否启用监听模式</span></span>
<span class="line"><span style="color:#E1E4E8;">    watchOptions: { </span><span style="color:#6A737D;">// 监听模式选项</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 不监听的文件或文件夹，支持正则匹配。默认为空</span></span>
<span class="line"><span style="color:#E1E4E8;">    ignored:</span><span style="color:#DBEDFF;"> </span><span style="color:#9ECBFF;">/</span><span style="color:#DBEDFF;">node_modules</span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 监听到变化发生后会等300ms再去执行动作，防止文件更新太快导致重新编译频率太高</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 默认为300ms </span></span>
<span class="line"><span style="color:#E1E4E8;">    aggregateTimeout: </span><span style="color:#79B8FF;">300</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 判断文件是否发生变化是不停的去询问系统指定文件有没有变化，默认每隔1000毫秒询问一次</span></span>
<span class="line"><span style="color:#E1E4E8;">    poll: </span><span style="color:#79B8FF;">1000</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">path</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">require</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;path&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">TerserPlugin</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">require</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;terser-webpack-plugin&quot;</span><span style="color:#24292E;">);</span><span style="color:#6A737D;">// 压缩 js 的插件</span></span>
<span class="line"><span style="color:#6A737D;">// nodejs核心模块，直接使用</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">os</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">require</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;os&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#6A737D;">// cpu核数</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">threads</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> os.</span><span style="color:#6F42C1;">cpus</span><span style="color:#24292E;">().</span><span style="color:#005CC5;">length</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#005CC5;">module</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">exports</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// entry 表示 入口，Webpack 执行构建的第一步将从 Entry 开始，可抽象成输入。</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 类型可以是 string | object | array   </span></span>
<span class="line"><span style="color:#24292E;">  entry: </span><span style="color:#032F62;">&#39;./app/entry&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 只有1个入口，入口只有1个文件</span></span>
<span class="line"><span style="color:#24292E;">  entry: [</span><span style="color:#032F62;">&#39;./app/entry1&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;./app/entry2&#39;</span><span style="color:#24292E;">], </span><span style="color:#6A737D;">// 只有1个入口，入口有2个文件</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">//  entry: [&quot;@babel/polyfill&quot;, &quot;./app/js&quot;], // @babel/polyfill 是将es6+ 转成es5</span></span>
<span class="line"><span style="color:#24292E;">  entry: { </span><span style="color:#6A737D;">// 有2个入口</span></span>
<span class="line"><span style="color:#24292E;">    a: </span><span style="color:#032F62;">&#39;./app/entry-a&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    b: [</span><span style="color:#032F62;">&#39;./app/entry-b1&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;./app/entry-b2&#39;</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">mode: </span><span style="color:#032F62;">&#39;none&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;development&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;production&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// webpack --mode development   production 默认开启 tree shaking</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 如何输出结果：在 Webpack 经过一系列处理后，如何输出最终想要的代码。</span></span>
<span class="line"><span style="color:#24292E;">  output: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 输出文件存放的目录，必须是 string 类型的绝对路径。</span></span>
<span class="line"><span style="color:#24292E;">    path: path.</span><span style="color:#6F42C1;">resolve</span><span style="color:#24292E;">(__dirname, </span><span style="color:#032F62;">&#39;dist&#39;</span><span style="color:#24292E;">),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 输出文件的名称</span></span>
<span class="line"><span style="color:#24292E;">    filename: </span><span style="color:#032F62;">&#39;bundle.js&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 完整的名称</span></span>
<span class="line"><span style="color:#24292E;">    filename: </span><span style="color:#032F62;">&#39;[name].js&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 当配置了多个 entry 时，通过名称模版为不同的 entry 生成不同的文件名称</span></span>
<span class="line"><span style="color:#24292E;">    filename: </span><span style="color:#032F62;">&#39;[chunkhash].js&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 根据文件内容 hash 值生成文件名称，用于浏览器长时间缓存文件</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 发布到线上的所有资源的 URL 前缀，string 类型</span></span>
<span class="line"><span style="color:#24292E;">    publicPath: </span><span style="color:#032F62;">&#39;/assets/&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 放到指定目录下</span></span>
<span class="line"><span style="color:#24292E;">    publicPath: </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 放到根目录下</span></span>
<span class="line"><span style="color:#24292E;">    publicPath: </span><span style="color:#032F62;">&#39;https://cdn.example.com/&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 放到 CDN 上去</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 导出库的名称，string 类型</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 不填它时，默认输出格式是匿名的立即执行函数</span></span>
<span class="line"><span style="color:#24292E;">    library: </span><span style="color:#032F62;">&#39;MyLibrary&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 导出库的类型，枚举类型，默认是 var</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 可以是 umd | umd2 | commonjs2 | commonjs | amd | this | var | assign | window | global | jsonp ，</span></span>
<span class="line"><span style="color:#24292E;">    libraryTarget: </span><span style="color:#032F62;">&#39;umd&#39;</span><span style="color:#24292E;">, </span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 是否包含有用的文件路径信息到生成的代码里去，boolean 类型</span></span>
<span class="line"><span style="color:#24292E;">    pathinfo: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 附加 Chunk 的文件名称</span></span>
<span class="line"><span style="color:#24292E;">    chunkFilename: </span><span style="color:#032F62;">&#39;[id].js&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// ------------------------------</span></span>
<span class="line"><span style="color:#24292E;">    chunkFilename: </span><span style="color:#032F62;">&quot;static/js/[name].[contenthash:8].chunk.js&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 动态导入输出资源命名方式</span></span>
<span class="line"><span style="color:#24292E;">    assetModuleFilename: </span><span style="color:#032F62;">&quot;static/media/[name].[hash][ext]&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 图片、字体等资源命名方式（注意用hash）</span></span>
<span class="line"><span style="color:#24292E;">    clean: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    runtimeChunk: {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">name</span><span style="color:#24292E;">: (</span><span style="color:#E36209;">entrypoint</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`runtime~${</span><span style="color:#24292E;">entrypoint</span><span style="color:#032F62;">.</span><span style="color:#24292E;">name</span><span style="color:#032F62;">}`</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// runtime文件命名规则</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// ------------------------------</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// JSONP 异步加载资源时的回调函数名称，需要和服务端搭配使用</span></span>
<span class="line"><span style="color:#24292E;">    jsonpFunction: </span><span style="color:#032F62;">&#39;myWebpackJsonp&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 生成的 Source Map 文件名称</span></span>
<span class="line"><span style="color:#24292E;">    sourceMapFilename: </span><span style="color:#032F62;">&#39;[file].map&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 浏览器开发者工具里显示的源码模块名称</span></span>
<span class="line"><span style="color:#24292E;">    devtoolModuleFilenameTemplate: </span><span style="color:#032F62;">&#39;webpack:///[resource-path]&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 异步加载跨域的资源时使用的方式</span></span>
<span class="line"><span style="color:#24292E;">    crossOriginLoading: </span><span style="color:#032F62;">&#39;use-credentials&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    crossOriginLoading: </span><span style="color:#032F62;">&#39;anonymous&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    crossOriginLoading: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 配置模块相关</span></span>
<span class="line"><span style="color:#24292E;">  module: {</span></span>
<span class="line"><span style="color:#24292E;">    rules: [ </span><span style="color:#6A737D;">// 配置 Loader</span></span>
<span class="line"><span style="color:#24292E;">      {  </span></span>
<span class="line"><span style="color:#24292E;">        test:</span><span style="color:#032F62;"> /</span><span style="color:#22863A;font-weight:bold;">\.</span><span style="color:#032F62;">jsx</span><span style="color:#D73A49;">?$</span><span style="color:#032F62;">/</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 正则匹配命中要使用 Loader 的文件</span></span>
<span class="line"><span style="color:#24292E;">        include: [ </span><span style="color:#6A737D;">// 只会命中这里面的文件</span></span>
<span class="line"><span style="color:#24292E;">          path.</span><span style="color:#6F42C1;">resolve</span><span style="color:#24292E;">(__dirname, </span><span style="color:#032F62;">&#39;app&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">        ],</span></span>
<span class="line"><span style="color:#24292E;">        exclude: [ </span><span style="color:#6A737D;">// 忽略这里面的文件</span></span>
<span class="line"><span style="color:#24292E;">          path.</span><span style="color:#6F42C1;">resolve</span><span style="color:#24292E;">(__dirname, </span><span style="color:#032F62;">&#39;app/demo-files&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">        ],</span></span>
<span class="line"><span style="color:#24292E;">        use: [ </span><span style="color:#6A737D;">// 使用那些 Loader，有先后次序，从后往前执行</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&#39;style-loader&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 直接使用 Loader 的名称    style-loader 将 </span></span>
<span class="line"><span style="color:#24292E;">          {</span></span>
<span class="line"><span style="color:#24292E;">            loader: </span><span style="color:#032F62;">&#39;css-loader&#39;</span><span style="color:#24292E;">,      </span></span>
<span class="line"><span style="color:#24292E;">            options: { </span><span style="color:#6A737D;">// 给 html-loader 传一些参数</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">          }</span></span>
<span class="line"><span style="color:#24292E;">        ]</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 处理js  npm i babel-loader @babel/preset-env @babel/core # babel-loader 处理 js 文件; @babel/preset-env 语法转换 ;@babel/polyfill es6+ 转成es5 (entry) @babel/plugin-transform-runtime ()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">        test:</span><span style="color:#032F62;"> /</span><span style="color:#22863A;font-weight:bold;">\.</span><span style="color:#032F62;">js</span><span style="color:#D73A49;">$</span><span style="color:#032F62;">/</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        use: [{</span></span>
<span class="line"><span style="color:#24292E;">          loader: </span><span style="color:#032F62;">&#39;babel-loader&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">// options配置你也可以在.babelrc或babel.config.js中单独配置</span></span>
<span class="line"><span style="color:#24292E;">          options: {</span></span>
<span class="line"><span style="color:#24292E;">            presets: [</span><span style="color:#032F62;">&#39;@babel/preset-env&#39;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">            cacheDirectory: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 开启babel编译缓存</span></span>
<span class="line"><span style="color:#24292E;">            cacheCompression: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 缓存文件不要压缩</span></span>
<span class="line"><span style="color:#24292E;">            plugins: [</span><span style="color:#032F62;">&quot;@babel/plugin-transform-runtime&quot;</span><span style="color:#24292E;">], </span><span style="color:#6A737D;">// 减少代码体积</span></span>
<span class="line"><span style="color:#24292E;">          }</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">         {</span></span>
<span class="line"><span style="color:#24292E;">                loader: </span><span style="color:#032F62;">&quot;thread-loader&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 开启多进程</span></span>
<span class="line"><span style="color:#24292E;">                options: {</span></span>
<span class="line"><span style="color:#24292E;">                  workers: threads, </span><span style="color:#6A737D;">// 数量</span></span>
<span class="line"><span style="color:#24292E;">                },</span></span>
<span class="line"><span style="color:#24292E;">              },</span></span>
<span class="line"><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">        exclude:</span><span style="color:#032F62;"> /node_modules/</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#6A737D;">//  处理图片 file-loader 和 url-loader; 小于 limit 参数即 1024B 的图片会被转译为 Base64 编码，对于超过 limit 值的图片则直接调用 file-loader 完成加载</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">      test:</span><span style="color:#032F62;"> /</span><span style="color:#22863A;font-weight:bold;">\.</span><span style="color:#032F62;">(png</span><span style="color:#D73A49;">|</span><span style="color:#032F62;">jpg</span><span style="color:#D73A49;">|</span><span style="color:#032F62;">gif</span><span style="color:#D73A49;">|</span><span style="color:#032F62;">jpeg)</span><span style="color:#D73A49;">$</span><span style="color:#032F62;">/</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      use: [</span><span style="color:#032F62;">&#39;file-loader&#39;</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">        loader: </span><span style="color:#032F62;">&#39;url-loader&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        options: {</span></span>
<span class="line"><span style="color:#24292E;">          limit: </span><span style="color:#005CC5;">1024</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">//  webpack 5 的话直接指定类型就行</span></span>
<span class="line"><span style="color:#24292E;">      {</span></span>
<span class="line"><span style="color:#24292E;">      test:</span><span style="color:#032F62;"> /</span><span style="color:#22863A;font-weight:bold;">\.</span><span style="color:#032F62;">(png</span><span style="color:#D73A49;">|</span><span style="color:#032F62;">jpg</span><span style="color:#D73A49;">|</span><span style="color:#032F62;">gif</span><span style="color:#D73A49;">|</span><span style="color:#032F62;">jpeg)</span><span style="color:#D73A49;">$</span><span style="color:#032F62;">/</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      type: </span><span style="color:#032F62;">&#39;asset/resource&#39;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    ],</span></span>
<span class="line"><span style="color:#24292E;">    noParse: [ </span><span style="color:#6A737D;">// 不用解析和处理的模块</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">/special-library</span><span style="color:#22863A;font-weight:bold;">\.</span><span style="color:#032F62;">js</span><span style="color:#D73A49;">$</span><span style="color:#032F62;">/</span><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 用正则匹配</span></span>
<span class="line"><span style="color:#24292E;">    ],</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 配置插件</span></span>
<span class="line"><span style="color:#24292E;">  plugins: [</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PreloadWebpackPlugin</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">      rel: </span><span style="color:#032F62;">&quot;preload&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// preload兼容性更好</span></span>
<span class="line"><span style="color:#24292E;">      as: </span><span style="color:#032F62;">&quot;script&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// rel: &#39;prefetch&#39; // prefetch兼容性更差</span></span>
<span class="line"><span style="color:#24292E;">    }),</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> WorkboxPlugin.</span><span style="color:#6F42C1;">GenerateSW</span><span style="color:#24292E;">({</span><span style="color:#6A737D;">// 配合 npm i serve -g &amp;&amp; serve dist</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 这些选项帮助快速启用 ServiceWorkers</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 不允许遗留任何“旧的” ServiceWorkers</span></span>
<span class="line"><span style="color:#24292E;">      clientsClaim: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      skipWaiting: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    }),</span></span>
<span class="line"><span style="color:#24292E;">  ],</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// optimization 用来做优化的(控制产物包体积)</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">//  code spliting 可以让模块用到的时候再加载</span></span>
<span class="line"><span style="color:#24292E;">optimization:{</span></span>
<span class="line"><span style="color:#24292E;">splitChunks:{</span><span style="color:#6A737D;">// 开启分包加载 https://www.webpackjs.com/plugins/split-chunks-plugin/</span></span>
<span class="line"><span style="color:#24292E;"> chunks: </span><span style="color:#032F62;">&#39;async&#39;</span><span style="color:#24292E;">,</span><span style="color:#6A737D;">// 配置成 all 即对所有文件分包按需加载</span></span>
<span class="line"><span style="color:#24292E;">      minSize: </span><span style="color:#005CC5;">20000</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      minRemainingSize: </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      minChunks: </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      maxAsyncRequests: </span><span style="color:#005CC5;">30</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      maxInitialRequests: </span><span style="color:#005CC5;">30</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      enforceSizeThreshold: </span><span style="color:#005CC5;">50000</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      cacheGroups: {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// 指定符合什么规则的模块拆到什么 chunk 里</span></span>
<span class="line"><span style="color:#24292E;">        defaultVendors: {</span></span>
<span class="line"><span style="color:#24292E;">          test:</span><span style="color:#032F62;"> /</span><span style="color:#005CC5;">[</span><span style="color:#22863A;font-weight:bold;">\\</span><span style="color:#005CC5;">/]</span><span style="color:#032F62;">node_modules</span><span style="color:#005CC5;">[</span><span style="color:#22863A;font-weight:bold;">\\</span><span style="color:#005CC5;">/]</span><span style="color:#032F62;">/</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          priority: </span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          reuseExistingChunk: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// 定义每个 chunk 要有多大，初始加载最多能加载个文件等维度</span></span>
<span class="line"><span style="color:#24292E;">        default: {</span></span>
<span class="line"><span style="color:#24292E;">          minChunks: </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          priority: </span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          reuseExistingChunk: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">},</span></span>
<span class="line"><span style="color:#24292E;">  minimize: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 在Webpack4中 默认使用 uglifyjs-webpack-plugin压缩代码，也可以通过 minimizer 数组替换为 Terser 插件</span></span>
<span class="line"><span style="color:#24292E;">  minimizer: [</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">TerserPlugin</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">        parallel: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        terserOptions: {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">// https://github.com/webpack-contrib/terser-webpack-plugin#terseroptions</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">      })</span></span>
<span class="line"><span style="color:#24292E;">    ]</span></span>
<span class="line"><span style="color:#24292E;">},</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 配置寻找模块的规则</span></span>
<span class="line"><span style="color:#24292E;">  resolve: { </span></span>
<span class="line"><span style="color:#24292E;">    modules: [ </span><span style="color:#6A737D;">// 寻找模块的根目录，array 类型，默认以 node_modules 为根目录</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&#39;node_modules&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      path.</span><span style="color:#6F42C1;">resolve</span><span style="color:#24292E;">(__dirname, </span><span style="color:#032F62;">&#39;app&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    ],</span></span>
<span class="line"><span style="color:#24292E;">    extensions: [</span><span style="color:#032F62;">&#39;.js&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;.json&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;.jsx&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;.css&#39;</span><span style="color:#24292E;">], </span><span style="color:#6A737D;">// 模块的后缀名</span></span>
<span class="line"><span style="color:#24292E;">    alias: { </span><span style="color:#6A737D;">// 模块别名配置，用于映射模块</span></span>
<span class="line"><span style="color:#24292E;">       </span><span style="color:#6A737D;">// 把 &#39;module&#39; 映射 &#39;new-module&#39;，同样的 &#39;module/path/file&#39; 也会被映射成 &#39;new-module/path/file&#39;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&#39;module&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;new-module&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 使用结尾符号 $ 后，把 &#39;only-module&#39; 映射成 &#39;new-module&#39;，</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 但是不像上面的，&#39;module/path/file&#39; 不会被映射成 &#39;new-module/path/file&#39;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&#39;only-module$&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;new-module&#39;</span><span style="color:#24292E;">, </span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    alias: [ </span><span style="color:#6A737D;">// alias 还支持使用数组来更详细的配置</span></span>
<span class="line"><span style="color:#24292E;">      {</span></span>
<span class="line"><span style="color:#24292E;">        name: </span><span style="color:#032F62;">&#39;module&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 老的模块</span></span>
<span class="line"><span style="color:#24292E;">        alias: </span><span style="color:#032F62;">&#39;new-module&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 新的模块</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// 是否是只映射模块，如果是 true 只有 &#39;module&#39; 会被映射，如果是 false &#39;module/inner/path&#39; 也会被映射</span></span>
<span class="line"><span style="color:#24292E;">        onlyModule: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">    ],</span></span>
<span class="line"><span style="color:#24292E;">    symlinks: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 是否跟随文件软链接去搜寻模块的路径</span></span>
<span class="line"><span style="color:#24292E;">    descriptionFiles: [</span><span style="color:#032F62;">&#39;package.json&#39;</span><span style="color:#24292E;">], </span><span style="color:#6A737D;">// 模块的描述文件</span></span>
<span class="line"><span style="color:#24292E;">    mainFields: [</span><span style="color:#032F62;">&#39;main&#39;</span><span style="color:#24292E;">], </span><span style="color:#6A737D;">// 模块的描述文件里的描述入口的文件的字段名称</span></span>
<span class="line"><span style="color:#24292E;">    enforceExtension: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 是否强制导入语句必须要写明文件后缀</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 输出文件性能检查配置</span></span>
<span class="line"><span style="color:#24292E;">  performance: { </span></span>
<span class="line"><span style="color:#24292E;">    hints: </span><span style="color:#032F62;">&#39;warning&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 有性能问题时输出警告</span></span>
<span class="line"><span style="color:#24292E;">    hints: </span><span style="color:#032F62;">&#39;error&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 有性能问题时输出错误</span></span>
<span class="line"><span style="color:#24292E;">    hints: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 关闭性能检查</span></span>
<span class="line"><span style="color:#24292E;">    maxAssetSize: </span><span style="color:#005CC5;">200000</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 最大文件大小 (单位 bytes)</span></span>
<span class="line"><span style="color:#24292E;">    maxEntrypointSize: </span><span style="color:#005CC5;">400000</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 最大入口文件大小 (单位 bytes)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">assetFilter</span><span style="color:#24292E;">: </span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(</span><span style="color:#E36209;">assetFilename</span><span style="color:#24292E;">) { </span><span style="color:#6A737D;">// 过滤要检查的文件</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> assetFilename.</span><span style="color:#6F42C1;">endsWith</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;.css&#39;</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> assetFilename.</span><span style="color:#6F42C1;">endsWith</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;.js&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * 对于开发环境，适合使用：</span></span>
<span class="line"><span style="color:#6A737D;"> *  - eval：速度极快，但只能看到原始文件结构，看不到打包前的代码内容；</span></span>
<span class="line"><span style="color:#6A737D;"> *  - cheap-eval-source-map：速度比较快，可以看到打包前的代码内容，但看不到 loader 处理之前的源码；</span></span>
<span class="line"><span style="color:#6A737D;"> *  - cheap-module-eval-source-map：速度比较快，可以看到 loader 处理之前的源码，不过定位不到列级别；</span></span>
<span class="line"><span style="color:#6A737D;"> *  - eval-source-map：初次编译较慢，但定位精度最高；</span></span>
<span class="line"><span style="color:#6A737D;"> * 对于生产环境，则适合使用：</span></span>
<span class="line"><span style="color:#6A737D;"> *  - source-map：信息最完整，但安全性最低，外部用户可轻易获取到压缩、混淆之前的源码，慎重使用；</span></span>
<span class="line"><span style="color:#6A737D;"> *  - hidden-source-map：信息较完整，安全性较低，外部用户获取到 .map 文件地址时依然可以拿到源码，慎重使用；</span></span>
<span class="line"><span style="color:#6A737D;"> *  - nosources-source-map：源码信息缺失，但安全性较高，需要配合 Sentry 等工具实现完整的 Sourcemap 映射。</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#24292E;">  devtool: </span><span style="color:#032F62;">&#39;source-map&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 配置 source-map 类型</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  context: __dirname, </span><span style="color:#6A737D;">// Webpack 使用的根目录，string 类型必须是绝对路径</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 配置输出代码的运行环境</span></span>
<span class="line"><span style="color:#24292E;">  target: </span><span style="color:#032F62;">&#39;web&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 浏览器，默认</span></span>
<span class="line"><span style="color:#24292E;">  target: </span><span style="color:#032F62;">&#39;webworker&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// WebWorker</span></span>
<span class="line"><span style="color:#24292E;">  target: </span><span style="color:#032F62;">&#39;node&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// Node.js，使用 `require` 语句加载 Chunk 代码</span></span>
<span class="line"><span style="color:#24292E;">  target: </span><span style="color:#032F62;">&#39;async-node&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// Node.js，异步加载 Chunk 代码</span></span>
<span class="line"><span style="color:#24292E;">  target: </span><span style="color:#032F62;">&#39;node-webkit&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// nw.js</span></span>
<span class="line"><span style="color:#24292E;">  target: </span><span style="color:#032F62;">&#39;electron-main&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// electron, 主线程</span></span>
<span class="line"><span style="color:#24292E;">  target: </span><span style="color:#032F62;">&#39;electron-renderer&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// electron, 渲染线程</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  externals: { </span><span style="color:#6A737D;">// 使用来自 JavaScript 运行环境提供的全局变量</span></span>
<span class="line"><span style="color:#24292E;">    vue: </span><span style="color:#032F62;">&#39;vue&#39;</span></span>
<span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * 同时 index.html 模板上引入 cdn 链接</span></span>
<span class="line"><span style="color:#6A737D;"> *  &lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/vue/2.6.3/vue.min.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  stats: { </span><span style="color:#6A737D;">// 控制台输出日志控制</span></span>
<span class="line"><span style="color:#24292E;">    assets: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    colors: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    errors: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    errorDetails: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    hash: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  devServer: { </span><span style="color:#6A737D;">// DevServer 相关的配置</span></span>
<span class="line"><span style="color:#24292E;">    proxy: { </span><span style="color:#6A737D;">// 代理到后端服务接口</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&#39;/api&#39;</span><span style="color:#24292E;">:{</span></span>
<span class="line"><span style="color:#24292E;">        target:</span><span style="color:#032F62;">&#39;http://localhost:8888/&#39;</span><span style="color:#24292E;">,</span><span style="color:#6A737D;">//代理目标的基础路径，服务端的端口号</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//关闭语法检查</span></span>
<span class="line"><span style="color:#24292E;">        lintOnSave:</span><span style="color:#005CC5;">false</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        changeOrigin:</span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span><span style="color:#6A737D;">//允许跨域 可以代理反向的地址</span></span>
<span class="line"><span style="color:#24292E;">        pathRewrite:{</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&#39;^/api&#39;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">//重写路径，将api开头的路径改为&#39;&#39;</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    contentBase: path.</span><span style="color:#6F42C1;">join</span><span style="color:#24292E;">(__dirname, </span><span style="color:#032F62;">&#39;public&#39;</span><span style="color:#24292E;">), </span><span style="color:#6A737D;">// 配置 DevServer HTTP 服务器的文件根目录</span></span>
<span class="line"><span style="color:#24292E;">    compress: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 是否开启 gzip 压缩</span></span>
<span class="line"><span style="color:#24292E;">    historyApiFallback: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 是否开发 HTML5 History API 网页</span></span>
<span class="line"><span style="color:#24292E;">    historyApiFallback: {</span><span style="color:#6A737D;">// 详细配置</span></span>
<span class="line"><span style="color:#24292E;">      rewrites: [</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6A737D;">// /user 开头的都返回 user.html</span></span>
<span class="line"><span style="color:#24292E;">    { from:</span><span style="color:#032F62;"> /</span><span style="color:#D73A49;">^</span><span style="color:#22863A;font-weight:bold;">\/</span><span style="color:#032F62;">user/</span><span style="color:#24292E;">, to: </span><span style="color:#032F62;">&#39;/user.html&#39;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">    { from:</span><span style="color:#032F62;"> /</span><span style="color:#D73A49;">^</span><span style="color:#22863A;font-weight:bold;">\/</span><span style="color:#032F62;">game/</span><span style="color:#24292E;">, to: </span><span style="color:#032F62;">&#39;/game.html&#39;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 其它的都返回 index.html</span></span>
<span class="line"><span style="color:#24292E;">        { from:</span><span style="color:#032F62;"> /</span><span style="color:#005CC5;">.</span><span style="color:#D73A49;">*</span><span style="color:#032F62;">/</span><span style="color:#24292E;">, to: path.posix.</span><span style="color:#6F42C1;">join</span><span style="color:#24292E;">(config.dev.assetsPublicPath, </span><span style="color:#032F62;">&#39;index.html&#39;</span><span style="color:#24292E;">) },</span></span>
<span class="line"><span style="color:#24292E;">      ],</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    hot: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 是否开启模块热替换功能</span></span>
<span class="line"><span style="color:#24292E;">    https: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 是否开启 HTTPS 模式</span></span>
<span class="line"><span style="color:#24292E;">    static: {</span><span style="color:#6A737D;">// 静态资源文件路径?</span></span>
<span class="line"><span style="color:#24292E;">      directory: path.</span><span style="color:#6F42C1;">join</span><span style="color:#24292E;">(__dirname, </span><span style="color:#032F62;">&#39;public&#39;</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    profile: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 是否捕捉 Webpack 构建的性能信息，用于分析什么原因导致构建性能不佳</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    cache: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 是否启用缓存提升构建速度</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    watch: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 是否启用监听模式</span></span>
<span class="line"><span style="color:#24292E;">    watchOptions: { </span><span style="color:#6A737D;">// 监听模式选项</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 不监听的文件或文件夹，支持正则匹配。默认为空</span></span>
<span class="line"><span style="color:#24292E;">    ignored:</span><span style="color:#032F62;"> /node_modules/</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 监听到变化发生后会等300ms再去执行动作，防止文件更新太快导致重新编译频率太高</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 默认为300ms </span></span>
<span class="line"><span style="color:#24292E;">    aggregateTimeout: </span><span style="color:#005CC5;">300</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 判断文件是否发生变化是不停的去询问系统指定文件有没有变化，默认每隔1000毫秒询问一次</span></span>
<span class="line"><span style="color:#24292E;">    poll: </span><span style="color:#005CC5;">1000</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="css增强" tabindex="-1">css增强 <a class="header-anchor" href="#css增强" aria-label="Permalink to &quot;css增强&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">i</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">postcss</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">postcss-loader</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">autoprefixer</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">i</span><span style="color:#24292E;"> </span><span style="color:#032F62;">postcss</span><span style="color:#24292E;"> </span><span style="color:#032F62;">postcss-loader</span><span style="color:#24292E;"> </span><span style="color:#032F62;">autoprefixer</span></span></code></pre></div><ul><li>config.js 如何配置</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">module</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">exports</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">  module: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    rules: [</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">//...</span></span>
<span class="line"><span style="color:#E1E4E8;">      {</span></span>
<span class="line"><span style="color:#E1E4E8;">        test:</span><span style="color:#DBEDFF;"> </span><span style="color:#9ECBFF;">/</span><span style="color:#85E89D;font-weight:bold;">\.</span><span style="color:#DBEDFF;">css</span><span style="color:#F97583;">$</span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        use: [miniCssExtractPlugin.loader, </span></span>
<span class="line"><span style="color:#E1E4E8;">              </span><span style="color:#9ECBFF;">&#39;css-loader&#39;</span><span style="color:#E1E4E8;">, </span></span>
<span class="line"><span style="color:#E1E4E8;">              {</span></span>
<span class="line"><span style="color:#E1E4E8;">                loader: </span><span style="color:#9ECBFF;">&#39;postcss-loader&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                options: {</span></span>
<span class="line"><span style="color:#E1E4E8;">                  postcssOptions: {</span></span>
<span class="line"><span style="color:#E1E4E8;">                    plugins: [</span><span style="color:#9ECBFF;">&#39;autoprefixer&#39;</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">                  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">                }</span></span>
<span class="line"><span style="color:#E1E4E8;">              }]</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">    ]</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//...</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">module</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">exports</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">  module: {</span></span>
<span class="line"><span style="color:#24292E;">    rules: [</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">//...</span></span>
<span class="line"><span style="color:#24292E;">      {</span></span>
<span class="line"><span style="color:#24292E;">        test:</span><span style="color:#032F62;"> /</span><span style="color:#22863A;font-weight:bold;">\.</span><span style="color:#032F62;">css</span><span style="color:#D73A49;">$</span><span style="color:#032F62;">/</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        use: [miniCssExtractPlugin.loader, </span></span>
<span class="line"><span style="color:#24292E;">              </span><span style="color:#032F62;">&#39;css-loader&#39;</span><span style="color:#24292E;">, </span></span>
<span class="line"><span style="color:#24292E;">              {</span></span>
<span class="line"><span style="color:#24292E;">                loader: </span><span style="color:#032F62;">&#39;postcss-loader&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                options: {</span></span>
<span class="line"><span style="color:#24292E;">                  postcssOptions: {</span></span>
<span class="line"><span style="color:#24292E;">                    plugins: [</span><span style="color:#032F62;">&#39;autoprefixer&#39;</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">                  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">                }</span></span>
<span class="line"><span style="color:#24292E;">              }]</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">    ]</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">//...</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-6b87e69f data-v-ef5dee53><!--[--><!--]--><!----><nav class="prev-next" data-v-ef5dee53><div class="pager" data-v-ef5dee53><a class="pager-link prev" href="/blog/frame/react/page.html" data-v-ef5dee53><span class="desc" data-v-ef5dee53>⬅</span><span class="title" data-v-ef5dee53>react</span></a></div><div class="pager" data-v-ef5dee53><a class="pager-link next" href="/blog/typescript/page.html" data-v-ef5dee53><span class="desc" data-v-ef5dee53>➡</span><span class="title" data-v-ef5dee53>typescript</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"frame_react_page.md\":\"f7bb0b48\",\"frame_vue_page.md\":\"952c6060\",\"html_h5.md\":\"677ca9eb\",\"javascript_page.md\":\"2d464a82\",\"javascript_es6.md\":\"74e197d4\",\"node_egg.md\":\"ec2359ad\",\"index.md\":\"686baa5a\",\"css_page.md\":\"616bdcbc\",\"html_page.md\":\"aa2b8747\",\"阿弥陀佛.md\":\"4620f2df\",\"node_npm.md\":\"a57747f7\",\"node_koa.md\":\"02262d5c\",\"performace_page.md\":\"9216520f\",\"frame_webpack_page.md\":\"64135610\",\"performace_performace.md\":\"89101284\",\"abouthttp_page.md\":\"ebc211a1\",\"typescript_page.md\":\"df3459dd\",\"node_base.md\":\"9da010b1\",\"git_page.md\":\"87b81324\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"前端笔记\",\"description\":\"神威难藏泪,满眼皆是琳 --- 致敬土哥\",\"base\":\"/blog/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"/fav.jpg\",\"nav\":[{\"text\":\"性能优化\",\"items\":[{\"text\":\"雅虎 35条\",\"link\":\"/performace/page\"},{\"text\":\"性能优化\",\"link\":\"/performace/performace\"}]}],\"sidebar\":[{\"text\":\"html\",\"collapsed\":true,\"base\":\"/html\",\"items\":[{\"text\":\"html\",\"link\":\"/page.md\"},{\"text\":\"h5\",\"link\":\"/h5.md\"}]},{\"text\":\"css\",\"collapsed\":true,\"base\":\"/css\",\"items\":[{\"text\":\"css\",\"link\":\"/page.md\"}]},{\"text\":\"javascript\",\"collapsed\":true,\"base\":\"/javascript\",\"items\":[{\"text\":\"javascript\",\"link\":\"/page.md\"},{\"text\":\"es6 语法\",\"link\":\"/es6.md\"}]},{\"text\":\"前端框架\",\"base\":\"/frame\",\"collapsed\":true,\"items\":[{\"text\":\"vue\",\"link\":\"/vue/page.md\"},{\"text\":\"react\",\"link\":\"/react/page.md\"},{\"text\":\"webpack\",\"link\":\"/webpack/page.md\"}]},{\"text\":\"typescript\",\"base\":\"/typescript\",\"collapsed\":true,\"items\":[{\"text\":\"typescript\",\"link\":\"/page.md\"}]},{\"text\":\"http\",\"base\":\"/abouthttp\",\"collapsed\":true,\"items\":[{\"text\":\"http\",\"link\":\"/page.md\"}]},{\"text\":\"git\",\"collapsed\":true,\"base\":\"/git\",\"items\":[{\"text\":\"git 命令(不全)\",\"link\":\"/page\"}]},{\"text\":\"nodejs\",\"collapsed\":true,\"base\":\"/node\",\"items\":[{\"text\":\"nodejs 基础\",\"link\":\"/base\"},{\"text\":\"npm\",\"link\":\"/npm\"},{\"text\":\"koa\",\"link\":\"/koa\"},{\"text\":\"egg 基础\",\"link\":\"/egg\"}]}],\"search\":{\"provider\":\"local\"},\"aside\":true,\"outline\":\"deep\",\"outlineTitle\":\"大纲\",\"docFooter\":{\"prev\":\"⬅\",\"next\":\"➡\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>